---
layout: null
searchable: true
---

{% assign first = true %}
[
{% for page in site.pages %}
    {% if page.title == null or page.title == empty or page.searchable == false %}
    {% else %}
        {% unless first %},{% endunless %}{
            "title": {{ page.title | replace: "’", "'" | replace: "–", "-" | jsonify }},
            "link": {{ page.url | replace: 'index.html', '' | prepend: site.baseurl | prepend: site.url | jsonify }},
            "introduction": {{ page.description | strip_html | replace: "’", "'" | replace: "—", "--" | jsonify }},
            "categories": "",
            "tags": "",
            "content": {% if page.searchable != "no-content" %}{{ page.content | strip_html | replace: "’", "'" | replace: "–", "-" | replace: "—", "--" | jsonify }}{% else %}""{% endif %}
        }{% assign first = false %}
    {% endif %}
{% endfor %}
{% for post in site.posts %}
    {% if post.title == null or post.title == empty or post.searchable == false %}
    {% else %}
        {% unless first %},{% endunless %}{
            "title": {{ post.title | replace: "’", "'" | replace: "–", "-" | jsonify }},
            "link": {{ post.url | prepend: site.baseurl | prepend: site.url | jsonify }},
            "date": {{ post.date | jsonify }},
            "date_friendly": {{ post.date | date: "%d %b, %Y" | jsonify }},
            "introduction": {% if post.introduction %}{{ post.introduction | truncatewords: 15 |  replace: '....', '...' |  replace: ',...', '...' | strip_html | replace: "’", "'" | replace: "—", "--" | jsonify }}{% else %}"<em>Featured Pen</em>"{% endif %},
            "categories": {{ post.categories | join:', ' | jsonify }},
            "tags": {{ post.tags | join:', ' | jsonify }},
            "content": {% if post.searchable != "no-content" %}{{ post.content | strip_html | replace: "’", "'" | replace: "–", "-" | replace: "—", "--" | jsonify }}{% else %}""{% endif %}
        }{% assign first = false %}
    {% endif %}
{% endfor %}
]