<!-- Load in the main styles -->
<script>loadCSS('/css/main.min.css');</script>

<!-- Support Main Script -->
<script>
    // Support Disqus comments
    var DISQUS_SHORTNAME = 'chrisburnell';
    // Support <picture> and picturefill
    document.createElement('picture');
</script>

<!-- Search Templates -->
{% include components/search-templates.html %}

<!-- ServiceWorker -->
<script>
    // ServiceWorker is a progressive technology. Ignore unsupported browsers
    if ('serviceWorker' in navigator) {
        console.log('CLIENT: service worker registration in progress.');
        navigator.serviceWorker.register('/serviceworker.js').then(function() {
            console.log('CLIENT: service worker registration complete.');
        }, function() {
            console.log('CLIENT: service worker registration failure.');
        });
    } else {
        console.log('CLIENT: service worker is not supported.');
    }
</script>

<!-- Main Scripts -->
<script src="/js/main.min.js" async defer></script>

{% if page.codepen == true or (page.categories contains 'pen' and page.codepen_slug) %}
    <!-- CodePen Embeds -->
    <script src="//codepen.io/assets/embed/ei.js" async defer></script>
{% endif %}

{% if page.speakerdeck == true %}
    <!-- Speaker Deck Embeds -->
    <script src="//speakerdeck.com/assets/embed.js" async defer></script>
{% endif %}

{% if page.twitter == true %}
    <!-- Twitter Cards -->
    <script src="//platform.twitter.com/widgets.js" async defer></script>
{% endif %}
