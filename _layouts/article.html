{% include header.html %}

    <section class="content  wrap  clear">
        <article role="main">

            <h1 id="article" class="article-title" role="heading">{{ page.title }}</h1>

            {% include main-aside.html %}

            {% if page.banner and page.banner_mobile %}
                <img alt="" class="article-banner" role="presentation"
                     src="/images/article-banners/{{ page.banner_mobile }}"
                     sizes="(min-width: 541px) 810px, 100vw"
                     srcset="/images/article-banners/{{ page.banner_mobile }} 540w, /images/article-banners/{{ page.banner }} 810w">
            {% endif %}

            {% if page.introduction %}
                <h2 class="article-introduction">{{ page.introduction }}</h2>
            {% endif %}

            {{ content }}

            <ol class="pagination  clear">
                {% if page.previous.url %}<li>
                    <a rel="previous" class="button  pagination-previous" href="{{ page.previous.url }}" title="Previous Article: {{ page.previous.title }}">Previous Article</a>
                </li>{% endif %}
                {% if page.next.url %}<li>
                    <a rel="next" class="button  pagination-next" href="{{ page.next.url }}" title="Next Article: {{ page.next.title }}">Next Article</a>
                </li>{% endif %}
            </ol>

            {% if page.comments and page.comments == true %}
                <section id="comments" class="comments  clear">
                    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        var commentsSection    = document.getElementById('comments'),
                            commentsButtonHTML = '<button class="show-comments  js-show-comments">Show Comments</button>',
                            commentsHash       = '#comments';
                        // Create the show comments button
                        commentsSection.innerHTML += commentsButtonHTML;
                        // And a hook to our button
                        var commentsButton = document.getElementsByClassName('js-show-comments')[0];
                        if( window.location.hash === commentsHash ) {
                            showComments();
                        }
                        window.onhashchange = function() {
                            if( location.hash === commentsHash ) {
                                showComments();
                            }
                        }
                        commentsButton.addEventListener('click', function() {
                            showComments();
                        });
                        function showComments() {
                            // Only if the button still exists should we load Disqus
                            if( document.getElementsByClassName('js-show-comments')[0] ) {
                                commentsSection.removeChild(commentsButton);
                                (function() {
                                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                                    dsq.src = '//chrisburnell.disqus.com/embed.js';
                                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                                })();
                            }
                        }
                    </script>
                    <noscript>Please enable Javascript to view comments.</noscript>
                </section>
            {% endif %}

        </article>
    </section>

{% include footer.html %}
